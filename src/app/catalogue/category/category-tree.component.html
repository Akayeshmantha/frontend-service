<div>
    <div [id]="category.code" class="border-bottom py-2 hover-row d-flex" [style.padding-left.rem]="(level * 0.75)" (click)="showDetails();" [ngClass]="{'selected-row': isSelected()}">
        <i (click)="toggleExpanded($event)" class="fa fa-fw" [ngClass]="getToggleIcon()"></i> {{ category.preferredName }}
        <i *ngIf="!isInSelectedCategories()" class="fa fa-fw fa-plus-circle pointer align-right icon-primary ml-auto mr-3" (click)="selectCategory()"></i>
        <i *ngIf="isInSelectedCategories()" class="fa fa-fw fa-minus-circle pointer align-right icon-red ml-auto mr-3" (click)="removeCategory()"></i>
    </div>
    <ul *ngIf="expanded && childrenCategories" class="list-unstyled mb-0">
        <li *ngFor="let childCategory of childrenCategories"><category-tree [category]="childCategory" [parentCategories]="parentCategories" (detailsEvent)="showDetails($event)" [level]="level + 1" [selectedCategory]="selectedCategory" (selectCategoryEvent)="selectCategory($event)" (removeCategoryEvent)="removeCategory($event)"></category-tree></li>
    </ul>
</div>