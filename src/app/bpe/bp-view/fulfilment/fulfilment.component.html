<div id="orderParams">
    <div>
        <ul class="nav nav-tabs">
            <li class="nav-item pointer">
                <a
                        [ngClass]="{'nav-link': true, active: selectedTab === 'Product Details'}"
                        (click)="selectedTab = 'Product Details'"
                        i18n
                >Product Characteristics</a>
            </li>
            <li class="nav-item pointer">
                <a
                        [ngClass]="{'nav-link': true, active: selectedTab === 'Product Trading & Delivery Terms'}"
                        (click)="selectedTab = 'Trading & Delivery Terms'"
                        i18n
                >Trading & Delivery Terms</a>
            </li>
            <li class="nav-item pointer">
                <a
                        [ngClass]="{'nav-link': true, active: selectedTab === 'Despatch Advice Details'}"
                        (click)="selectedTab = 'Despatch Advice Details'"
                        i18n
                >Despatch Advice Details</a>
            </li>
            <li *ngIf="bpDataService.orderResponse" class="nav-item pointer">
                <a
                        [ngClass]="{'nav-link': true, active: selectedTab === 'Receipt Advice Details'}"
                        (click)="selectedTab = 'Receipt Advice Details'"
                        i18n
                >Receipt Advice Details</a>
            </li>
        </ul>
    </div>
    <div *ngIf="bpDataService.catalogueLine"
         class="p-3">
        <product-details *ngIf="selectedTab === 'Product Details'"
                         [catalogueLine]="bpDataService.catalogueLine"
                         [presentationMode]="'singlevalue'">
        </product-details>
        <product-trading-details *ngIf="selectedTab === 'Product Trading & Delivery Terms'"
                         [catalogueLine]="bpDataService.catalogueLine"
                         [presentationMode]="'singlevalue'"
                         [editPrice]="false">
        </product-trading-details>
        <despatch-advice *ngIf="selectedTab === 'Despatch Advice Details'"
                                   [despatchAdvice]="bpDataService.despatchAdvice">
        </despatch-advice>
        <receipt-advice *ngIf="selectedTab === 'Receipt Advice Details'"
                                            [receiptAdvice]="bpDataService.receiptAdvice">
        </receipt-advice>

    </div>

    <div class="container ">
        <div class="row justify-content-end">
            <button *ngIf="bpDataService.userRole == 'seller'" class="btn btn-success" (click)="sendDespatchAdvice()">Send Despatch Advice
            </button>
            <button *ngIf="bpDataService.userRole == 'buyer'" class="btn btn-success"
                    (click)="sendReceiptAdvice()">Send Receipt Advice
            </button>
        </div>
    </div>
</div>

<div [hidden]="callStatus.fb_errordetc|| callStatus.fb_callback|| !callStatus.fb_submitted">
    <img class="space-before" src="assets/form_loader.gif"/>
</div>
<div [hidden]="!callStatus.fb_callback">
    <div *ngIf="bpDataService.userRole == 'buyer'" class="alert alert-success space-before" role="alert" i18n>Despatch Advice sent - track the progress on your
        <a routerLink="/dashboard">dashboard</a></div>
    <div *ngIf="bpDataService.userRole == 'seller'" class="alert alert-success space-before" role="alert" i18n>Receipt Advice sent - track the progress on your
        <a routerLink="/dashboard">dashboard</a></div>
</div>
<div [hidden]="!callStatus.fb_errordetc">
    <div class="alert alert-danger space-before" role="alert" i18n>An error occured - please try again later</div>
</div>