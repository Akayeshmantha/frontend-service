<div class="row title-row">
    <div class="col-2"></div>
    <div class="col-2"><h3>Original Terms</h3></div>
    <div class="col-4"><h3>Customer Request</h3></div>
    <div class="col-4"><h3>Producer Response</h3></div>
</div>

<div class="row content-row bg-light">
    <div class="col-2"><strong>Delivery Period:</strong></div>
    <div class="col-2">{{ wrapper.lineDeliveryPeriodString }}</div>
    <div class="col-4">{{ wrapper.rfqDeliveryPeriodStringIfNegotiating }}</div>
    <div class="col-4">
        <value-input [visible]="rfq.negotiationOptions.deliveryPeriod" type="quantity"
            [disabled]="isLoading() || isReadOnly()" [quantity]="wrapper.quotationDeliveryPeriod" 
            quantityType="time_quantity">
        </value-input>
    </div>
</div>

<div class="row content-row">
    <div class="col-2"><strong>Warranty:</strong></div>
    <div class="col-2">{{ wrapper.lineWarrantyString }}</div>
    <div class="col-4">{{ wrapper.rfqWarrantyStringIfNegotiating }}</div>
    <div class="col-4">
        <value-input [visible]="rfq.negotiationOptions.warranty" type="quantity"
            [disabled]="isLoading() || isReadOnly()" [quantity]="wrapper.quotationWarranty" 
            quantityType="time_quantity">
        </value-input>
    </div>
</div>

<div class="row content-row bg-light">
    <div class="col-2"><strong>Incoterms:</strong></div>
    <div class="col-2">{{ wrapper.lineIncoterms }}</div>
    <div class="col-4">{{ wrapper.rfqIncotermsIfNegotiating }}</div>
    <div class="col-4">
        <value-input [visible]="rfq.negotiationOptions.incoterms" type="options"
            [disabled]="isLoading() || isReadOnly()" [options]="INCOTERMS" [(selected)]="wrapper.quotationIncoterms">
        </value-input>
    </div>
</div>

<div class="row content-row">
    <div class="col-2"><strong>Payment Terms:</strong></div>
    <div class="col-2">{{ wrapper.linePaymentTerms }}</div>
    <div class="col-4">{{ wrapper.rfqPaymentTermsIfNegotiating }}</div>
    <div class="col-4">
        <value-input [visible]="rfq.negotiationOptions.paymentTerms" type="options"
            [disabled]="isLoading() || isReadOnly()" [options]="wrapper.rfqPaymentTerms.PAYMENT_TERMS" [(selected)]="wrapper.quotationPaymentTerms.paymentTerm">
        </value-input>
    </div>
</div>

<div class="row content-row bg-light">
    <div class="col-2"><strong>Payment Means:</strong></div>
    <div class="col-2">{{ wrapper.linePaymentMeans }}</div>
    <div class="col-4">{{ wrapper.rfqPaymentMeansIfNegotiating }}</div>
    <div class="col-4">
        <value-input [visible]="rfq.negotiationOptions.paymentMeans" type="options"
            [disabled]="isLoading() || isReadOnly()" [options]="PAYMENT_MEANS" 
            [(selected)]="wrapper.quotationPaymentMeans">
        </value-input>
    </div>
</div>

<div class="row content-row">
    <div class="col-2"><strong>Data monitoring service requested:</strong></div>
    <div class="col-2"></div>
    <div class="col-4">{{ rfq.dataMonitoringRequested ? "Yes" : "" }}</div>
    <div class="col-4" *ngIf="rfq.dataMonitoringRequested">
            <input type="checkbox" [(ngModel)]="quotation.dataMonitoringPromised" 
                [disabled]="isLoading() || isReadOnly()">
            <label>Promise data monitoring service</label>
    </div>
</div>

<div class="row content-row bg-light">
    <div class="col-2"><strong>Total Price:</strong></div>
    <div class="col-2">{{ wrapper.lineTotalPriceString }}</div>
    <div class="col-4">{{ wrapper.rfqTotalPriceStringIfNegotiating }}</div>
    <div class="col-4">
        <value-input [visible]="rfq.negotiationOptions.price" type="amount"
            [disabled]="isLoading() || isReadOnly()" [(amount)]="quotationPrice"
            [amountUnit]="wrapper.linePrice.priceAmount.currencyID">
        </value-input>
    </div>
</div>

<div class="row content-row">
    <div class="col-2"><strong>Note:</strong></div>
    <div class="col-2"></div>
    <div class="col-4">
        <value-input type="text" disabled [text]="rfq.note[0]">
        </value-input>
    </div>
    <div class="col-4">
        <value-input type="text" [disabled]="isLoading() || isReadOnly()" [text]="quotation.note[0]">
        </value-input>
    </div>
</div>

<!-- Delivery Location -->
<div class="row address-row">
    <div class="col-12">
        <h3>Delivery Address</h3>
        <negotiation-address [address]="rfq.delivery.deliveryAddress" disabled="true">
        </negotiation-address>
    </div>
</div>

<!-- Actions -->
<div class="row actions-row" *ngIf="userRole === 'seller'">
    <div class="col-6 call-status-col"><call-status [callStatus]="callStatus"></call-status></div>
    <div class="col-2">
        <button class="btn btn-secondary action" [disabled]="isLoading()"(click)="onBack()">Back</button>
    </div>
    <div class="col-2">
        <button class="btn btn-secondary action" [disabled]="isLoading()" (click)="onRespondToQuotation(false)">
            Reject Offer
        </button>
    </div>
    <div class="col-2">
        <button class="btn btn-primary action" [disabled]="isLoading()" (click)="onRespondToQuotation(true)">
            Accept Offer
        </button>
    </div>
</div>

<div class="row actions-row" *ngIf="userRole === 'buyer'">
    <div class="col-6 call-status-col"><call-status [callStatus]="callStatus"></call-status></div>
    <div class="col-2">
        <button class="btn btn-secondary action" [disabled]="isLoading()"(click)="onBack()">Back</button>
    </div>
    <div class="col-2">
        <button class="btn btn-secondary action" [disabled]="isLoading()" (click)="onRequestNewQuotation()">
            Request new Quotation
        </button>
    </div>
    <div class="col-2">
        <button class="btn btn-primary action" [disabled]="isLoading()" (click)="onAcceptAndOrder()">
            Accept & Order
        </button>
    </div>
</div>
