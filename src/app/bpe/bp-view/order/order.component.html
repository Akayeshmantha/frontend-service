<ng-container *ngIf="order">
    <quantity-view [propName]="'Quantity'"
                   [quantity]="[order.orderLine[0].lineItem.quantity]"
                   [presentationMode]="presentationMode">
    </quantity-view>

    <h5 class="mt-3 mb-3">Price</h5>
    <!-- Price Amount -->
    <amount-view [presentationMode]="presentationMode"
                 [propName]="'Amount'"
                 [amount]="[order.orderLine[0].lineItem.price.priceAmount]">
    </amount-view>

    <!-- Price Base Quantity -->
    <quantity-view [presentationMode]="presentationMode"
                   [propName]="'Price Base Quantity'"
                   [definition]="'The price of a product at a legally set quantity'"
                   [quantity]="[order.orderLine[0].lineItem.price.baseQuantity]">
    </quantity-view>

    <h5 class="mt-3 mb-3">Delivery Terms</h5>
    <!-- Request delivery period -->
    <quantity-view [presentationMode]="presentationMode"
                   [propName]="'Requested Delivery Period'"
                   [quantity]="[order.orderLine[0].lineItem.delivery[0].requestedDeliveryPeriod.durationMeasure]">
    </quantity-view>

    <!-- Delivery Location -->
    <address-view [presentationMode]="presentationMode"
                  [propName]="'Delivery Location'"
                  [address]="[order.orderLine[0].lineItem.deliveryTerms.deliveryLocation.address]">
    </address-view>

    <h5 class="mt-3 mb-3">Payment Means</h5>
    <div *ngIf="presentationMode == 'edit'"
         class="input-group form-group border-0">
        <label class="col-3">Payment Means
            <span class="label label-default" title="Expected means of payment">
                    &#9432;
            </span>
        </label>
        <select class="custom-select form-control" [(ngModel)]="order.paymentMeans.paymentMeansCode.value">
            <option></option>
            <option>Credit Card</option>
            <option>ACH Transfer</option>
            <option>Wire Transfer</option>
            <option>Cash On Delivery</option>
        </select>
    </div>
    <div *ngIf="presentationMode != 'edit'"
         class="input-group form-group border-0">
        <label class="col-3">Payment Means
            <span class="label label-default" title="Expected means of payment">
                    &#9432;
            </span>
        </label>
        <input class="form-control"
               type="text"
               [(ngModel)]="order.paymentMeans.paymentMeansCode.value"
               readonly>
    </div>

    <h5 class="mt-3 mb-3">Payment Terms</h5>
    <div class="bordered mb-3" style='overflow: auto'>
        <div style="width: 50%;float: left;padding: 1em">
            <div>
                <input [(ngModel)]="paymentTerms[0].checked" type="checkbox"  [disabled]="presentationMode != 'edit'">
                <label >PIA
                    <span class="label label-default" title="Payment in advance">
                    &#9432;
                    </span>
                </label>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[1].checked" type="checkbox" [disabled]="presentationMode != 'edit' || paymentTerms[1].term == null">
                <label>Net</label>
                <input [(ngModel)]="paymentTerms[1].term" class="bordered col-3" type="number" (change)="disableCheckBox(1)" style="height: 30px;background-color:#eceeef" [disabled]="presentationMode != 'edit'" placeholder="Number">
                <span class="label label-default" title="e.g.,NET 10,payment 10 days after invoice date">
                    &#9432;
                </span>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[2].checked" type="checkbox" [disabled]="presentationMode != 'edit'">
                <label>EOM
                    <span class="label label-default" title="End of month">
                    &#9432;
                    </span>
                </label>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[3].checked" type="checkbox" [disabled]="presentationMode != 'edit'">
                <label>CND
                    <span class="label label-default" title="Cash next delivery">
                    &#9432;
                    </span>
                </label>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[4].checked" type="checkbox" [disabled]="presentationMode != 'edit'">
                <label>CBS
                    <span class="label label-default" title="Cash before shipment">
                    &#9432;
                    </span>
                </label>
            </div>
        </div>

        <div style="width: 50%;float: right;padding: 1em">
            <div>
                <input [(ngModel)]="paymentTerms[5].checked" type="checkbox"  [disabled]="presentationMode != 'edit' || paymentTerms[5].term == null">
                <input [(ngModel)]="paymentTerms[5].term" class="bordered col-3" type="number" (change)="disableCheckBox(5)" style="height: 30px;background-color:#eceeef" [disabled]="presentationMode != 'edit'" placeholder="Number">
                <label>MFI
                    <span class="label label-default" title="e.g.,21 MFI,21st of the month following invoice date">
                    &#9432;
                    </span>
                </label>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[6].checked" type="checkbox"  [disabled]="presentationMode != 'edit' || discount == null || withinDays == null || dueDays == null">
                <input [(ngModel)]="discount" class="bordered col-3" type="number" style="height: 30px;background-color:#eceeef" (change)="disableCheckBox(6)" [disabled]="presentationMode != 'edit'" placeholder="Number">
                <span>/</span>
                <input [(ngModel)]="withinDays" class="bordered col-3" type="number" style="height: 30px;background-color:#eceeef" (change)="disableCheckBox(6)" [disabled]="presentationMode != 'edit'" placeholder="Number">
                <span> NET </span>
                <input [(ngModel)]="dueDays" class="bordered col-3" type="number" style="height: 30px;background-color:#eceeef" (change)="disableCheckBox(6)" [disabled]="presentationMode != 'edit'" placeholder="Number">
                <span class="label label-default" title="e.g.,1/10 NET 30,1% discount if payment received within 10 days otherwise payment 30 days after invoice date">
                    &#9432;
                </span>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[7].checked" type="checkbox" [disabled]="presentationMode != 'edit'">
                <label>COD
                    <span class="label label-default" title="Cash on delivery">
                    &#9432;
                    </span>
                </label>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[8].checked" type="checkbox" [disabled]="presentationMode != 'edit'">
                <label>CWO
                    <span class="label label-default" title="Cash with order">
                    &#9432;
                    </span>
                </label>
            </div>
            <div>
                <input [(ngModel)]="paymentTerms[9].checked" type="checkbox" [disabled]="presentationMode != 'edit'">
                <label>CIA
                    <span class="label label-default" title="Cash in advance">
                    &#9432;
                    </span>
                </label>
            </div>
        </div>
    </div>

    <value-view [presentationMode]="presentationMode"
                [propName]="'Order Note'"
                [(value)]="order.note">
    </value-view>

    <div class="d-flex justify-content-end">
        <button *ngIf="bpDataService.userRole == 'buyer' && bpDataService.processMetadata == null"
                [disabled]="submitted"
                class="btn btn-success" (click)="sendOrder()">Send Order
        </button>
    </div>
</ng-container>
<call-status [callStatus]="callStatus"
             [large]="true">
</call-status>