
<hr>

<!-- Order summary -->
<div class="row" *ngIf="order">
    <div class="col-4">
        <h2>Order Details</h2>
        <value-input type="text" presentationMode="view" label="Delivery Period" 
            [text]="getDeliveryPeriodText()" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="Warranty" 
            [text]="getWarrantyPeriodText()" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="Incoterms" 
            [text]="getIncoterm()" labelClass="col-6" valueClass="col-6">
        </value-input>
    </div>
    <div class="col-4">
        <h2>Payment Details</h2>
        <value-input type="text" presentationMode="view" label="Payment Means" 
            [text]="getPaymentMeans()" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="Payment Terms" 
            [text]="paymentTermsWrapper.paymentTerm" labelClass="col-6" valueClass="col-6">
        </value-input>
        <!-- <div>
            <input type="checkbox" [(ngModel)]="order.contract" [disabled]="isLoading() || isReadOnly()" >
            <span class="form-control d-inline border-0">
                <strong>Request data monitoring service</strong>
            </span>
        </div> -->
    </div>
    <div class="col-4">
        <h2>Delivery Address</h2>
        <value-input type="text" presentationMode="view" label="Street" 
            [text]="order.deliveryAddress.streetName" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="Building Number" 
            [text]="order.deliveryAddress.buildingNumber" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="City" 
            [text]="order.deliveryAddress.cityName" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="Postal Code" 
            [text]="order.deliveryAddress.postalZone" labelClass="col-6" valueClass="col-6">
        </value-input>
        <value-input type="text" presentationMode="view" label="Country" 
            [text]="order.deliveryAddress.country.name" labelClass="col-6" valueClass="col-6">
        </value-input>
    </div>
</div>

<hr>

<!-- Contract Preview -->
<div class="row" *ngIf="order">
    <div class="col-12">
        <button class="btn btn-primary show-preview-button" (click)="showPreview = !showPreview"
            [disabled]="!order.contract || order.contract[0]?.clause.length === 0">
            Preview Terms and Conditions
            <i class="fas fa-caret-down fa-lg fa-fw pl-2 pt-2 float-right" aria-hidden="true" *ngIf="showPreview"></i>
            <i class="fas fa-caret-right fa-lg fa-fw pl-2 pt-2 float-right" aria-hidden="true" *ngIf="!showPreview"></i>
        </button>
    </div>
    <div class="col-12" *ngIf="showPreview">
        <contract [contract]="order.contract[0]">
        </contract>
    </div>
</div>

<hr>

<!-- Actions -->
<div class="row actions-row" *ngIf="order">
    <div class="col-8 call-status-col"><call-status [callStatus]="callStatus"></call-status></div>
    <div class="col-2">
        <button class="btn btn-secondary action" [disabled]="isLoading()" (click)="onBack()">
            Back
        </button>
    </div>
    <div class="col-2">
        <button class="btn btn-primary action" [disabled]="isLoading()" (click)="onOrder()">
            Order
        </button>
    </div>
</div>

<call-status [callStatus]="callStatus" [large]="true"></call-status>