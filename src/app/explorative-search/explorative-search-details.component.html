<!-- Explorative Search Details HTML -->
<div class="container">
    <div class="row">
        <div class="col-md-9">
            <!-- if there is no tableResult show the Diagram -->

            <!-- <div *ngIf="!tableResult" class="displayArea" #myDiagramDiv></div> -->
            <div [hidden]="!(_warning_selection)">
                <div class="alert alert-warning space-before">
                    <p>NO <kbd>CTRL</kbd> Button Pressed.If previous Selection were selected using Multiselect Feature, they will be
                    deleted.</p>
                </div>
            </div>
            <div [hidden]="hiddenElement" class="displayArea" #myDiagramDiv></div>
            <div [hidden]="!hiddenElement" style="height: 500px; overflow: auto;">
                <table >

                    <tr>
                        <th style="width:50%">Property</th>
                        <td style="width:50%;font-weight: bold">Value
                            <wbr/>
                        </td>
                    </tr>
                    <tr *ngFor="let column of sparqlSelectedOption?.columns; let i=index">

                        <th style="width:50%">{{column}}</th>
                        <td style="width:50%">{{sparqlSelectedOption?.rows[0][i]}}
                            <wbr/>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="row">
                <div class="col-8">
                    <button [hidden]="!hiddenElement" class="btn btn-lg btn-outline-warning" (click)="diagramAgain()">
                        Back
                    </button>
                </div>
                <div class="col-4 pull-right">
                    <button class="btn btn-lg btn-primary" (click)="negotiation()"
                            [disabled]="!negotiationEnable"
                            [hidden]="!hiddenElement">
                        Negotiation</button>
                </div>
            </div>
            <br>
            <br>
            <!-- temporary hack here
                Image is not rendered again on button click
                because tableResult still exists in class.
            -->
            <!-- Show Table -->
            <div *ngIf="tableResult && selectedProperties.length > 0" style="overflow: auto; height: 100px;">
                <table>
                    <tr>
                        <th *ngFor="let column of tableResult?.columns">{{column}}</th>
                    </tr>
                    <tr *ngFor="let row of tableResult?.rows; let i=index;">
                        <td *ngFor="let field of row"> {{field}}</td>
                        <td *ngIf="tableResult?.uuids">
                            <button class="btn btn-sm btn-success" (click)="getSparqlOptionalSelect(i)">
                            More</button></td>
                    </tr>
                </table>
            </div>
            <!-- End Table -->
        </div>
        <div class="col-md-3">
            <!-- Child Component Explorative Search Filter-->
            <div *ngIf="filterQuery" class="panel panel-default">
                <div class="panel-body" *ngIf="(filterConfig | json)!= '{}'">
                    <!-- pass all the variables of class to child
                    <search-filter [filterConfig]="filterJSON" [keyForConf]="filterQuery" [mainConceptName]="filterQueryRoot" [mainConceptUrl]="filterQueryRootUrl"
                                   [filterName]="nodeFilterName" (filterSelectionUpdated)="handleFilterSelectionUpdated($event)">
                    </search-filter>-->
                    <search-filter *ngFor="let eachFilter of arrayPassedToChild" [filterProperties]="eachFilter"
                                   (filterSelectionUpdated)="handleFilterSelectionUpdated($event)">
                    </search-filter>
                </div>
            </div>
        </div>
        <!-- child component Search Filter ends here -->
    </div>
    <!-- container for the Big Red Search Button -->
    <div class="row">
        <div class="col-md-9"></div>
        <!-- will show up only when filterQuery Exists -->
        <div class="col-md-3" *ngIf="filterQuery && selectedProperties.length > 0">
            <button class="btn btn-lg btn-danger" (click)="genTable()">Search</button>
        </div>
    </div>
</div>

<div [hidden]="!(_error_detected_getLogicalView || _error_detected_getProperties || _error_detected_getSPARQLSelect || _error_detected_getTableValues)">
    <div class="alert alert-danger space-before" role="alert">An error occured - please try again later</div>
</div>

<div [hidden]="!(_warning_table_results)">
    <div class="alert alert-warning space-before" role="alert">No Matches Found. Please try again with different Queries</div>
</div>
